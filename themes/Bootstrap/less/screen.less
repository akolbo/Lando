@import "bootstrap.less";

@baseFontSize: 14px;
@baseLineHeight: 20px;

body {
	margin-top: 40px; //allow for fixed navbar
	position: relative; //context for admin links
	padding-top: 1em;
}


/* GLOBAL
================================================== */

/* Includes
-------------------------------------------------- */

.gallery,
.slideshow {
	margin: 2em 0;
}

.gallery img {
	display: inline-block;
	margin: 10px 10px 0 0;
	border: 1px solid #666;
}


/* Blog Posts
-------------------------------------------------- */

article {
	position: relative;
	padding: 1em 0 1.5em 220px;
	border-top: 1px solid rgba(0,0,0,0.15);

	&:first-of-type {
		border-top: none;
	}
	
	footer {
		width: 200px;
		position: absolute;
		top: 1.96em;
		left: 0;
		color: gray;
		
		h3 {
			display: none;
		}
		
		.tags {	
			color: @grayLight;
			
			ul {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			
			li {
				&::before {
					position: relative;
					top: 0.1em;
					content: "#";
					margin-right: 0.2em;
				}
			}
		}
	}
}


/* POST ARCHIVES
================================================== */

.year-block > h2 a,
.month-block > h3 a {
	color: fadeout(@textColor, 50);
	text-decoration: none;

	&:hover,
	&:focus {
		text-decoration: underline;
	}
}

#drafts-all,
#posts-all,
#posts-by-date {
	article {
		padding-bottom: 0;

		h1, p, footer {
			margin: 0;
		}

		h1 {
			font-size: 1.1em;
		}

		footer {
			font-size: 0.9em;

			h3 {
				display: none;
			}

			.tags {
				&::before {
					float: left;
					content: "in\00A0";
				}

				ul {
					padding: 0;
				}
			}
		}
	}
}

#drafts-all article {
	border: none;
	footer {
		h3, p, ul {
			display: inline;
		}

		h3::after {
			content: ":";
		}

		.tags::before {
			content: none;
		}
	}
}

.year-block,
.month-block,
.month-block article {
	border: 0 solid rgba(0,0,0,0.2);
}

.year-block,
.month-block {
	border-top-width: 1px;
}

.year-block .month-block {
	border-left-width: 1px;

	&:first-of-type {
		border-top: none;
	}
}

.year-block > h2,
.month-block > h3 {
	position: absolute;
	font-size: 1.1em;
	margin: 1em 0 0;
}

.day-block article {
	padding-left: 0;
}

.year-block > h2 {
	width: 10%;
}

.month-block {
	padding-bottom: 1.2em;

	> h3 {
		width: 15%;
	}

	article {
		margin-left: 19%;
		padding-left: 2%;
	}
}

.year-block .month-block {
		margin-left: 11%;
		padding-left: 2%;

	article {
		margin-left: 22%;
	}
}

#drafts-all article {
	padding-left: 0;
}

#drafts-all,
#posts-all,
#posts-by-date {
	article {
		footer {
			width: auto;
			position: static;

			.pubdate {
				line-height: 1.4;				
			}

			.tags {
				li {
					display: inline;
					color: @textColor;
					
					&::before {
						content: "";
					}

					&::after {
						content: ",";
					}
					
					&:last-child::after {
						content: none;
					}
				}
			}
		}
	}
}


/* HOME
================================================== */

#intro {
	.clearfix();
	margin-bottom: 1em;
	
	p {
		color: @gray;
		font-size: @baseFontSize*1.4;
		line-height: @baseLineHeight*1.5;
		margin-bottom: 1em;
	}

	img {
		float: right;
		width: 40%;
		margin: 0 0 1em 1em;
		box-shadow: 1px 1px 3px rgba(0,0,0,0.5);
	}
}


/* ADMIN LINKS
================================================== */

#admin-links {
	position: absolute;
	right: 0.5em;
	top: 0.6em;

	a {
		display: block;
		float: left;
		background-color: rgba(0,0,0,0.7);
		color: white;
		text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
		font-weight: bold;
		text-decoration: none;
		font-size: 0.8em;
		text-transform: uppercase;
		border-radius: 2px;
		padding: 0 0.4em;
		line-height: 1.5;
		margin-left: 0.5em;

		&:hover,
		&:focus,
		&:active {
			background-color: black;
		}
	}
}

/* FOOTER
================================================== */

#footer {
	font-size: 0.9em;
	padding: 2em 0 4em;
	margin-top: 5em;
	border-top: 1px solid rgba(0,0,0,0.1);
	box-shadow: inset 0 30px 10px -20px rgba(0,0,0,0.02);
	color: fadeout(@textColor, 30);

	a {
		color: fadeout(@linkColor, 30);
	}
}