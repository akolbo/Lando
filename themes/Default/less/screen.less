/* RESETS
================================================== */

@import "boilerplate.css";


/* VARIABLES/MIXINS
================================================== */

@import "vars.less";


/* REUSABLE STYLES
================================================== */

/* Clearfix
-------------------------------------------------- */

.wrapper,
.page-nav,
.page-nav ul,
.page-nav li,
.page-breadcrumbs ul,
#intro {
  zoom: 1;
	&:after {
    display: block;
    visibility: hidden;
    height: 0;
    clear: both;
    content: ".";
	}
}


/* UNIVERSAL STYLES
================================================== */

html {
	-webkit-font-smoothing: antialiased;
}

body {
	font: 1em/1.4 @sansFonts;
	background-color: @mainBg;
}

a {
	&:link {
		color: @linkColor;
		text-decoration: none;
	}
	
	&:visited,
	&:active {
		color: @linkColorVisited;
	}

	&:hover,
	&:focus {
		color: @linkColorHover;
		text-decoration: underline;
	}
}

ul, ol {
	padding-left: 2.2em;
}

//must be separate
::-moz-selection { background: rgba(0,125,255,0.6); }
::selection { background: rgba(0,125,255,0.6); }

img, 
embed, 
object {
	display: block;
	max-width: 100%;
	height: auto;
	margin: 2em 0;

	&.left, 
	&.right {
		max-width: 40%;
	}

	&.left {
		float: left;
		margin: 0 2em 2em 0;
	}

	&.right {
		float: right;
		margin: 0 0 2em 2em;
	}

	&.shadow {
		background-color: white;
		box-shadow: 1px 1px 3px rgba(0,0,0,0.5);
	}
}

blockquote {
	margin-left: 0;
	padding-left: 0.8em;
	font: italic 1.1em/1.4 @serifFonts;
	border-left: 0.2em solid @lightBorder;

	cite {
		font-size: 0.8em;
		font-style: normal;
		color: fadeout(@textColor, 20);

		&::before {
			content: "\2014\00A0";
		}
	}
}

dd {
	margin-top: 0;
	margin-left: 0;
}

table {
	tr:nth-child(even) {
		background-color: rgba(0,0,0,0.03);
	}

	th {
		text-align: left;
		
		&:empty {
			border: none;
		}
	}

	th, td {
		border: 1px solid #bbb;
		padding: 0.3em 0.5em;
	}
}

h1, h2, h3, h4, h5, h6 {
	&:target::before {
		display: block;
		position: absolute;
		content: " ";
		width: 0;
		height: 0;
		margin: 0.3em 0 0 -1em;
		border: 0.5em solid transparent;
		border-left-color: @yellow;
		box-shadow: -0.9em 0 0 @yellow;
	}
}

hr {
	margin: 2em 0;
	height: 1px;
	background-color: @lightBorder;
	border: none;
}

.footnotes {
	font-size: 0.9em;
	color: fadeout(@textColor, 20);
}


/* Typography
-------------------------------------------------- */

//fix browser monospace font resizing
pre, code, kbd, samp, tt {
  font-family: monospace,monospace;
  font-size: 1em;
}

code {
	font: 0.8em/1 @monoFonts;
	border-radius: 2px;
	padding: 0.1em 0.2em;
	background-color: fadeout(@blue, 90);
	box-shadow: inset 0 0 5px fadeout(@blue, 80);
}

pre {
	display: block;
	line-height: 1.2;
	border-radius: 5px;
	font: 0.8em/1.2 @monoFonts;
	padding: 1em;
	background-color: fadeout(@blue, 92);
	box-shadow: inset 0 0 10px fadeout(@blue, 90);

	code {
		font: inherit;
		padding: 0;
		background: none;
		box-shadow: none;
		margin: 0;
	}

	code.prettyprint {
		display: block;
		margin: -0.5em -1em;
	}

	code.prettyprint,
	code.prettyprint ol.linenums li {
		border: none;
		padding-left: 0;
	}
}

h1 {
	font-size: 1.4em;
}

h2 {
	font-size: 1.2em;
}

h3 {
	font-size: 1em;
}

h3,h4,h5,h6,dt {
	+ p,
	+ dd {
		margin-top: -1em;
	}
}

dt {
	font-weight: bold;
}


/* ADMIN LINKS
================================================== */

#admin-links {
	position: fixed;
	right: 0.5em;
	top: 0.6em;

	a {
		display: block;
		float: left;
		background-color: rgba(0,0,0,0.7);
		color: white;
		text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
		font-weight: bold;
		text-decoration: none;
		font-size: 0.7em;
		text-transform: uppercase;
		border-radius: 2px;
		padding: 0 0.4em;
		line-height: 1.5;
		margin-left: 0.5em;

		&:hover,
		&:focus,
		&:active {
			background-color: black;
		}
	}
}


/* HEADER
================================================== */

#masthead {
	margin-bottom: 2em;
	
	h1 {
		font-size: 2.5em;
		margin: 0;
		letter-spacing: -0.04em;
	}
	
	h1 a {
		text-decoration: none;
		
		&:link,
		&:hover,
		&:focus,
		&:visited,
		&:active {
			color: fadeout(@textColor, 10);
		}
	}
	
	h2 {
		margin: 0;
		font-size: 1.1em;
		font-weight: normal;
		font-style: italic;
		font-family: @serifFonts;
		color: fadeout(@textColor, 30);
	}
}

.page-nav {
	ul {
		list-style: none;
		margin-bottom: 0;
	}

	.current > a {
		color: @textColor;
	}
}


/* BREADCRUMBS
================================================== */

.page-breadcrumbs {
	margin-bottom: 2em;

	ul {
		list-style: none;
		font-size: 0.8em;
		.gradient(rgba(0,0,0,0.04), 0, rgba(0,0,0,0), 100%);
		border-radius: 3px;
		border: 1px solid rgba(0,0,0,0.1);
		text-shadow: 1px 1px 0 white;
	}

	li {
		float: left;
		position: relative;
		padding: 0 1em;
		line-height: 2.5em;

		&::after {
			position: absolute;
			margin-left: 1em;
			height: 100%;
			display: inline-block;
			border-right: 1px solid @lightBorder;
			box-shadow: 2px 0 0 white;
			content: "";
			.rotate(15deg);
		}

		&:last-child::after {
			content: none;
		}
	}
}


/* INCLUDES
================================================== */

.gallery {
	margin: 1em 0 1.5em;
}

.slideshow {
	margin: 2em 0;

	div {
		max-width: 100%;
	}
}

.gallery img {
	display: inline-block;
	margin: 10px 10px 0 0;
	border: 1px solid #666;
}


/* BLOG POSTS
================================================== */

article {
	padding: 1em 0 1.5em;
	border-top: 1px solid @lightBorder;
	
	&:first-of-type {
		border-top: none;
	}
	
	h1 {
		margin-top: 0;
	}
	
	footer h3 {
		color: fadeout(@textColor, 65);
	}
	
	.pubdate {
		color: lighten(@textColor, 30);
	}
}


/* POST ARCHIVES
================================================== */

.year-block > h2 a,
.month-block > h3 a {
	color: fadeout(@textColor, 50);
	text-decoration: none;

	&:hover,
	&:focus {
		text-decoration: underline;
	}
}

#drafts-all,
#posts-all,
#posts-by-date {
	article {
		padding-bottom: 0;

		h1, p, footer {
			margin: 0;
		}

		h1 {
			font-size: 1.1em;
		}

		footer {
			font-size: 0.9em;

			h3 {
				display: none;
			}

			.tags {
				&::before {
					float: left;
					content: "in\00A0";
				}

				ul {
					padding: 0;
				}
			}
		}
	}
}

#drafts-all article {
	border: none;
	footer {
		h3, p, ul {
			display: inline;
		}

		h3::after {
			content: ":";
		}

		.tags::before {
			content: none;
		}
	}
}


/* FOOTER
================================================== */

#footer {
	font-size: 0.9em;
	padding: 1em 0 4em;
	margin-top: 4em;
	border-top: 1px solid rgba(0,0,0,0.1);
	box-shadow: inset 0 30px 10px -20px rgba(0,0,0,0.02);
	color: fadeout(@textColor, 30);

	a {
		color: fadeout(@linkColor, 30);
	}
}


/* HOME
================================================== */

#home .main > h1 {
	display: none;
}

#intro {
	margin-bottom: 1em;
	font: italic 1.2em/1.4 @serifFonts;
	color: lighten(@textColor, 20);
}


/* 404
================================================== */

#goog-fixurl {
	ul {
		list-style: none;
		padding: 0;
	}

	input {
		margin-right: 1ex;
	}
}


/* RESPONSIVE BREAK POINTS
================================================== */

@media screen and (max-width: 700px) {
	@import "small.less";
}

/*@media screen and (min-width: 481px) and (max-width: 700px) {
	@import "medium.less";
}*/

@media screen and (min-width: 701px) {
	@import "large.less";
}

/*@media screen and (min-width: 1000px) {
	@import "xlarge.less";
}*/