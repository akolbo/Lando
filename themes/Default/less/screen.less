@import "reset.css";

/* VARIABLES/MIXINS
================================================== */

@wrapperPercent: 80%;
@wrapperWidth: @wrapperPercent/100;

@textColor: #111;
@linkColor: #4d8420;

@sansFonts: calibri, candara, "Helvetica Neue", helvetica, arial, sans-serif;
@serifFonts: georgia, "Times New Roman", times, serif;


/* REUSABLE STYLES
================================================== */

body > header,
body > header nav,
body > header nav li {
  zoom: 1;
	&:after {
    display: block;
    visibility: hidden;
    height: 0;
    clear: both;
    content: ".";
	}
}


/* GLOBAL
================================================== */

body {
	width: @wrapperPercent;
	max-width: 1000px;
	margin: 30px auto 0;
	font: 16px/1.2 @sansFonts;
}

a {
	&:link {
		color: @linkColor;
	}
	
	&:hover,
	&:focus {
		color: lighten(desaturate(@linkColor, 10), 10);
	}
	
	&:visited,
	&:active {
		color: darken(@linkColor, 10);
	}
}

p, h3, h4 {
	margin-bottom: 1em;
}

h1 {
	font-size: 1.6em;
	font-weight: bold;
	margin-bottom: 0.6em;
}

h2 {
	font-size: 1.6em;
	margin-bottom: 0.8em;
}

h3 {
	font-size: 1.4em;
}

h4 {
	font-size: 1.2em;
}


/* Header
-------------------------------------------------- */

body > header {
	margin-bottom: 2em;
	
	hgroup {
		float: left;
	}
	
	h1 {
		font: normal 2em/1.8 @serifFonts;
		margin-bottom: 0;
	}
	
	h1 a {
		text-decoration: none;
		
		&:link,
		&:hover,
		&:focus,
		&:visited,
		&:active {
			color: fadeout(@textColor, 10);
		}
	}
	
	h2 {
		text-transform: uppercase;
		font-size: 0.9em;
		color: fadeout(@textColor, 20);
	}

	nav {
		margin-top: 1em;
		float: right;
		
		a,
		li ul ul::before {
			line-height: 1.8;
		}
		
		//non-dropdown
		> ul > li {
			margin-left: 2em;
			float: left;
		}
	
		//dropdown
		li {
			li {
				display: none; //hide until parent LI hover
				position: relative; //context for nested UL positioning
				white-space: nowrap;
				padding-right: 1em; //leave space for nest indicator
				background: #f9f9f9;
				text-shadow: 1px 1px 0 rgba(255,255,255,1);
				border-bottom: 1px solid rgba(0,0,0,0.08);
				
				&:last-child {
					border-bottom: none;
				}
				
				&:hover {
					background-color: #eee;
				}
				
				a {
					display: block;
					position: relative; //enable z-index
					z-index: 1; //display above nest arrow
					width: 100%;
					padding: 0 0.5em;
					text-decoration: none;
				}
			}
			
			ul {
				position: absolute;
				box-shadow: 1px 1px 1px rgba(0,0,0,0.2);
				
				ul {
					top: 0;
					left: 100%;
					
					//nest indicator
					&::before {
						position: absolute;
						right: 100%;
						content: "\25B8";
						color: rgba(0,0,0,0.3);
						margin-right: 0.5em;
					}
				}
			}
			
			&:hover > ul > li {
				display: block; //show nested on parent LI hover
			}
	
			&.current > a {
				font-weight: bold;
			}
		}
	}
}


/* Footer
-------------------------------------------------- */

body > footer {
	font: italic 0.9em @serifFonts;
	margin: 6em 0 3em;
	opacity: 0.6;
}


/* BLOG POSTS
================================================== */

@sidebarWidth: @wrapperWidth*25%;

article {
	position: relative;
	padding: 1em 0 1em @sidebarWidth+5%;
	border-bottom: 1px solid rgba(0,0,0,0.15);
	
	&:last-child {
		border-bottom: none;
	}
	
	h1 {
		font-size: 1.4em;
		margin-bottom: 1em;
	}
	
	footer {
		width: @sidebarWidth;
		position: absolute;
		top: 1em;
		left: 0;
		color: lighten(@textColor, 20);
		
		h3 {
			display: none;
		}
		
		.pubdate {
			line-height: 2;
		}
		
		.tags {					
			ul {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			
			li {
				color: fadeout(@textColor, 70);
			
				&::before {
					position: relative;
					top: 0.1em;
					content: "#";
					margin-right: 0.2em;
				}
			}
		}
	}
}


/* INCLUDES
================================================== */

.gallery,
.slideshow {
	margin: 3em 0 4em;
}

.gallery img {
	display: inline-block;
	margin: 10px 10px 0 0;
	border: 1px solid #666;
}


/* HOME
================================================== */

#home #primary > h1 {
	display: none;
}

#intro {
	font: italic 1.2em/1.4 @serifFonts;
	color: lighten(@textColor, 20);
	margin-bottom: 2em;
}